<div class="imgcard card" id="{filename}">
	<a><img src="/cozy/img/{filename}" alt="Image went missing..." loading="lazy" decoding="async" title="Double click to view in large!" onload="this.parentElement.parentElement.style.width = this.offsetWidth + 'px'"></a>
	{title}
	<h3>by {author}</h3>
	<button onclick="navigator.clipboard.writeText(location.origin + '/cozy/img/{filename}');this.innerText = 'Link copied!'">Copy image link</button>
	<script>
		document.getElementById("{filename}").addEventListener("dblclick", async () => {{
				
				document.body.innerHTML = await (await fetch("/cozy/post/{filename}")).text()
				leaves = new Array();
				falling_leaves()
				setTimeout(async () => {{
					if (document.getElementById("spook").innerText == "false") {{
						return
					}}
					let sound = sfxr.generate("synth")
					let image = new Image();
					image.src = "/2.png"
					image.style.position = "fixed";
					image.style.top = "50%";
					image.style.left = "50%";
					image.style.transform = "translate(-50%, -50%)";
					image.style.maxWidth = "130vw";
					image.style.maxHeight = "130vh";
					image.style.zIndex = "9999";
					document.body.appendChild(image);
					image.onload = async (e) => {{
						sfxr.play(sound)
						console.log("played jumps")
						image.style.opacity = 1;
						while (image.style.opacity > 0.01){{
							await new Promise(r => setTimeout(r, 10));
							image.style.opacity -= 0.01
							console.log(image.style.opacity)
						}}
						image.remove()
					}}
					console.log("set up jumps")
				}}, 2000)
			}})
	</script>
</div>